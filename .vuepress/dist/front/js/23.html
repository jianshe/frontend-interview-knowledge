<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascriptè®¾è®¡æ¨¡å¼ä¹‹--å•ä¾‹æ¨¡å¼ | å¤§å‰ç«¯å®å…¸</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" content="æ¯å¤©è‡³å°‘ä¸€ä¸ªé—®é¢˜ï¼Œæœ‰å…³å‰ç«¯ï¼Œåç«¯ï¼Œgraphqlï¼Œdevopsï¼Œå¾®æœåŠ¡ä»¥åŠè½¯æŠ€èƒ½ï¼Œä¿ƒè¿›ä¸ªäººèŒä¸šæˆé•¿ï¼Œæ•²å¼€å¤§å‚ä¹‹é—¨ã€‚">
    <link rel="preload" href="/assets/css/0.styles.49f7e903.css" as="style"><link rel="preload" href="/assets/js/app.d830e949.js" as="script"><link rel="preload" href="/assets/js/2.467a020c.js" as="script"><link rel="preload" href="/assets/js/29.c37f3490.js" as="script"><link rel="prefetch" href="/assets/js/10.08238f69.js"><link rel="prefetch" href="/assets/js/11.a302dc98.js"><link rel="prefetch" href="/assets/js/12.b9d44fc2.js"><link rel="prefetch" href="/assets/js/13.11bd3598.js"><link rel="prefetch" href="/assets/js/14.e678b406.js"><link rel="prefetch" href="/assets/js/15.8b4469d1.js"><link rel="prefetch" href="/assets/js/16.a284dd14.js"><link rel="prefetch" href="/assets/js/17.8cbdfe27.js"><link rel="prefetch" href="/assets/js/18.c31c80c4.js"><link rel="prefetch" href="/assets/js/19.761ad4f0.js"><link rel="prefetch" href="/assets/js/20.f742d693.js"><link rel="prefetch" href="/assets/js/21.5e2bb758.js"><link rel="prefetch" href="/assets/js/22.45193016.js"><link rel="prefetch" href="/assets/js/23.3dc876ef.js"><link rel="prefetch" href="/assets/js/24.ec7aaad4.js"><link rel="prefetch" href="/assets/js/25.33eb22f9.js"><link rel="prefetch" href="/assets/js/26.8ce13b83.js"><link rel="prefetch" href="/assets/js/27.a730cedc.js"><link rel="prefetch" href="/assets/js/28.c6678776.js"><link rel="prefetch" href="/assets/js/3.e57d8321.js"><link rel="prefetch" href="/assets/js/30.46d1399e.js"><link rel="prefetch" href="/assets/js/31.542e06fe.js"><link rel="prefetch" href="/assets/js/32.38c5d44b.js"><link rel="prefetch" href="/assets/js/33.d7e92b3e.js"><link rel="prefetch" href="/assets/js/34.51206bf5.js"><link rel="prefetch" href="/assets/js/35.c07edc99.js"><link rel="prefetch" href="/assets/js/36.8ee6946b.js"><link rel="prefetch" href="/assets/js/37.f1fce9b3.js"><link rel="prefetch" href="/assets/js/4.3cb82692.js"><link rel="prefetch" href="/assets/js/5.432879ad.js"><link rel="prefetch" href="/assets/js/6.26ba6dd2.js"><link rel="prefetch" href="/assets/js/7.e8546e87.js"><link rel="prefetch" href="/assets/js/8.c3fd8330.js"><link rel="prefetch" href="/assets/js/9.c21132dd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49f7e903.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å¤§å‰ç«¯å®å…¸</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link router-link-active">
  å¤§å‰ç«¯
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link router-link-active">
  å¤§å‰ç«¯
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/front/" aria-current="page" class="sidebar-link">ç›®å½•</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/js/" aria-current="page" class="sidebar-link">ç›®å½•</a></li><li><a href="/front/js/1.html" class="sidebar-link">inÂ è¿ç®—ç¬¦å’ŒÂ Object.hasOwnPropertyÂ æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿâ­ï¸</a></li><li><a href="/front/js/3.html" class="sidebar-link">ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿâ­ï¸</a></li><li><a href="/front/js/4.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡]â­ï¸</a></li><li><a href="/front/js/5.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[å‡½æ•°å’Œå¯¹è±¡çš„å…³ç³»]â­ï¸</a></li><li><a href="/front/js/6.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[prototypeåŸå‹]â­ï¸</a></li><li><a href="/front/js/7.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[éšå¼åŸå‹]â­ï¸</a></li><li><a href="/front/js/8.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[instanceof]</a></li><li><a href="/front/js/9.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ç»§æ‰¿]â­ï¸</a></li><li><a href="/front/js/10.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ç®€è¿°æ‰§è¡Œä¸Šä¸‹æ–‡-ä¸Š]â­ï¸</a></li><li><a href="/front/js/11.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ç®€è¿°æ‰§è¡Œä¸Šä¸‹æ–‡-ä¸‹]â­ï¸</a></li><li><a href="/front/js/12.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[this]â­ï¸</a></li><li><a href="/front/js/13.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ]â­ï¸</a></li><li><a href="/front/js/14.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ç®€ä»‹--ä½œç”¨åŸŸ]â­ï¸</a></li><li><a href="/front/js/15.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ]â­ï¸</a></li><li><a href="/front/js/16.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[ä»è‡ªç”±å˜é‡åˆ°ä½œç”¨åŸŸé“¾]â­ï¸</a></li><li><a href="/front/js/17.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[é—­åŒ…ä¸€]â­ï¸</a></li><li><a href="/front/js/18.html" class="sidebar-link">æ·±å…¥ç†è§£javascriptåŸå‹å’Œé—­åŒ…ä¹‹[é—­åŒ…äºŒ]â­ï¸</a></li><li><a href="/front/js/19.html" class="sidebar-link">é˜²æŠ–å’ŒèŠ‚æµåŸç†åˆ†æ--é˜²æŠ–â­ï¸</a></li><li><a href="/front/js/20.html" class="sidebar-link">é˜²æŠ–å’ŒèŠ‚æµåŸç†åˆ†æ--èŠ‚æµâ­ï¸</a></li><li><a href="/front/js/21.html" class="sidebar-link">Promiseé‡Œçš„ä»£ç ä¸ºä»€ä¹ˆæ¯”setTimeoutå…ˆæ‰§è¡Œï¼Ÿâ­ï¸</a></li><li><a href="/front/js/22.html" class="sidebar-link">å¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´ï¼Ÿâ­ï¸</a></li><li><a href="/front/js/23.html" aria-current="page" class="active sidebar-link">javascriptè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼ â­ï¸</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front/js/24.html" class="sidebar-link">javascriptè®¾è®¡æ¨¡å¼ä¹‹æ„é€ å‡½æ•°æ¨¡å¼ â­ï¸</a></li><li><a href="/front/js/28.html" class="sidebar-link">javascriptçš„newæ“ä½œéƒ½åšäº†ä»€ä¹ˆï¼Ÿâ­ï¸</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="javascriptè®¾è®¡æ¨¡å¼ä¹‹-å•ä¾‹æ¨¡å¼"><a href="#javascriptè®¾è®¡æ¨¡å¼ä¹‹-å•ä¾‹æ¨¡å¼" class="header-anchor">#</a> javascriptè®¾è®¡æ¨¡å¼ä¹‹--å•ä¾‹æ¨¡å¼</h3> <blockquote><p>å•ä¾‹è®¾è®¡æ¨¡å¼ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚æœ‰äº›å¯¹è±¡åªéœ€è¦ä¸€ä¸ªï¼Œè¿™æ—¶å¯ç”¨å•ä¾‹æ¨¡å¼ã€‚</p></blockquote> <p><strong>ä»‹ç»</strong></p> <p>åœ¨ä¼ ç»Ÿå¼€å‘å·¥ç¨‹å¸ˆçœ¼é‡Œï¼Œå•ä¾‹å°±æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå®ç°çš„æ–¹æ³•ä¸€èˆ¬æ˜¯å…ˆåˆ¤æ–­å®ä¾‹å­˜åœ¨ä¸å¦ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºäº†å†è¿”å›ï¼Œè¿™å°±ç¡®ä¿äº†ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚åœ¨JavaScripté‡Œï¼Œå•ä¾‹ä½œä¸ºä¸€ä¸ªå‘½åç©ºé—´æä¾›è€…ï¼Œä»å…¨å±€å‘½åç©ºé—´é‡Œæä¾›ä¸€ä¸ªå”¯ä¸€çš„è®¿é—®ç‚¹æ¥è®¿é—®è¯¥å¯¹è±¡ã€‚</p> <p><strong>å¦‚ä½•å®ç°</strong></p> <p>1.ä¼ ç»Ÿçš„å•ä¾‹æ¨¡å¼ã€‚</p> <ul><li>å’Œnewåˆ›å»ºå¯¹è±¡çš„è°ƒç”¨ä¸ä¸€æ ·</li> <li>è°ƒç”¨è€…è¦è°ƒç”¨xxx.getInstanceæ‰èƒ½è·å–è¯¥å•ä¾‹</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">Singleton</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singleton</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Singleton<span class="token punctuation">.</span><span class="token function-variable function">getInstance</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'amy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'ben'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2.ä½¿ç”¨é—­åŒ…æ–¹å¼å®ç°ã€‚</p> <ul><li>å’Œnewåˆ›å»ºå¯¹è±¡çš„è°ƒç”¨ä¸ä¸€æ ·</li> <li>è°ƒç”¨è€…è¦è°ƒç”¨xxx.getInstanceæ‰èƒ½è·å–è¯¥å•ä¾‹</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">Singleton</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singleton</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Singleton<span class="token punctuation">.</span>getInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">var</span> instance<span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
   instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> a <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;amy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;ben&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>3.ä½¿ç”¨å¯¹è±¡å­—é¢é‡çš„æ–¹æ³•ï¼Œå…¶å­—é¢é‡é‡Œå¯ä»¥åŒ…å«å¤§é‡çš„å±æ€§å’Œæ–¹æ³•ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> mySingleton <span class="token operator">=</span> <span class="token punctuation">{</span>
    property1<span class="token operator">:</span> <span class="token string">&quot;something&quot;</span><span class="token punctuation">,</span>
    property2<span class="token operator">:</span> <span class="token string">&quot;something else&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">method1</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœä»¥åè¦æ‰©å±•è¯¥å¯¹è±¡ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„ç§æœ‰æˆå‘˜å’Œæ–¹æ³•ï¼Œç„¶åä½¿ç”¨é—­åŒ…åœ¨å…¶å†…éƒ¨å°è£…è¿™äº›å˜é‡å’Œå‡½æ•°å£°æ˜ã€‚åªæš´éœ²ä½ æƒ³æš´éœ²çš„publicæˆå‘˜å’Œæ–¹æ³•ï¼Œæ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">mySingleton</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* è¿™é‡Œå£°æ˜ç§æœ‰å˜é‡å’Œæ–¹æ³• */</span>
    <span class="token keyword">var</span> privateVariable <span class="token operator">=</span> <span class="token string">'something private'</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">showPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>privateVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/* å…¬æœ‰å˜é‡å’Œæ–¹æ³•ï¼ˆå¯ä»¥è®¿é—®ç§æœ‰å˜é‡å’Œæ–¹æ³•ï¼‰ */</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">publicMethod</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">showPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        publicVar<span class="token operator">:</span> <span class="token string">'the public can see this!'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> single <span class="token operator">=</span> <span class="token function">mySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
single<span class="token punctuation">.</span><span class="token function">publicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º 'something private'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>single<span class="token punctuation">.</span>publicVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 'the public can see this!'</span>
</code></pre></div><p>4.<strong>æƒ°æ€§å•ä¾‹</strong></p> <ul><li>æƒ°æ€§å•ä¾‹æ˜¯æŒ‡åœ¨éœ€è¦çš„æ—¶å€™æ‰åˆ›å»º</li> <li>ğŸŒ°ï¼šè°ƒç”¨getInstanceæ–¹æ³•ï¼Œåˆ›å»ºSingletonå¯¹è±¡ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨getInstanceæ–¹æ³•ï¼ŒSingletonå¯¹è±¡æ˜¯å•ä¾‹çš„</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> instantiated<span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*è¿™é‡Œå®šä¹‰å•ä¾‹ä»£ç */</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">publicMethod</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            publicProperty<span class="token operator">:</span> <span class="token string">'test'</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">getInstance</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instantiated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                instantiated <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> instantiated<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*è°ƒç”¨å…¬æœ‰çš„æ–¹æ³•æ¥è·å–å®ä¾‹:*/</span>
Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">publicMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>åº”ç”¨åœºæ™¯</strong></p> <p>å…¶å®å•ä¾‹ä¸€èˆ¬æ˜¯ç”¨åœ¨ç³»ç»Ÿé—´å„ç§æ¨¡å¼çš„é€šä¿¡åè°ƒä¸Šï¼Œä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªå•ä¾‹çš„æœ€ä½³å®è·µï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> SingletonTester <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//å‚æ•°ï¼šä¼ é€’ç»™å•ä¾‹çš„ä¸€ä¸ªå‚æ•°é›†åˆ</span>
    <span class="token keyword">function</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//è®¾ç½®argså˜é‡ä¸ºæ¥æ”¶çš„å‚æ•°æˆ–è€…ä¸ºç©ºï¼ˆå¦‚æœæ²¡æœ‰æä¾›çš„è¯ï¼‰</span>
        <span class="token keyword">var</span> args <span class="token operator">=</span> args <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®nameå‚æ•°</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'SingletonTester'</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®pointXçš„å€¼</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pointX <span class="token operator">=</span> args<span class="token punctuation">.</span>pointX <span class="token operator">||</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//ä»æ¥æ”¶çš„å‚æ•°é‡Œè·å–ï¼Œæˆ–è€…è®¾ç½®ä¸ºé»˜è®¤å€¼</span>
        <span class="token comment">//è®¾ç½®pointYçš„å€¼</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pointY <span class="token operator">=</span> args<span class="token punctuation">.</span>pointY <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//å®ä¾‹å®¹å™¨</span>
    <span class="token keyword">var</span> instance<span class="token punctuation">;</span>
    <span class="token keyword">var</span> _static <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'SingletonTester'</span><span class="token punctuation">,</span>
        <span class="token comment">//è·å–å®ä¾‹çš„æ–¹æ³•</span>
        <span class="token comment">//è¿”å›Singletonçš„å®ä¾‹</span>
        <span class="token function-variable function">getInstance</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _static<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> singletonTest <span class="token operator">=</span> SingletonTester<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pointX<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>singletonTest<span class="token punctuation">.</span>pointX<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 5 </span>
</code></pre></div><p><strong>å°ç»“</strong></p> <p>å•ä¾‹æ¨¡å¼ç”¨åˆ°äº†é—­åŒ…å’Œé«˜é˜¶å‡½æ•°çš„ç‰¹æ€§ã€‚å•ä¾‹æ¨¡å¼æ˜¯ç®€å•ä½†å¸¸ç”¨åˆ°çš„æ¨¡å¼ï¼Œæ¯”å¦‚å•é¡µåº”ç”¨ã€websocketè¿æ¥ç­‰ç­‰ã€‚ç‰¹åˆ«æ˜¯æƒ°æ€§å•ä¾‹æ¨¡å¼ï¼Œç”¨åˆ°æ—¶æ‰åˆ›å»ºï¼Œå†æ¬¡ç”¨åˆ°æ˜¯ä¸éœ€è¦å†æ¬¡åˆ›å»ºã€‚åˆ›å»ºå¯¹è±¡å’Œç®¡ç†å•ä¾‹çš„èŒè´£åˆ†å¸ƒåœ¨ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œæ–¹ä¾¿æ‰©å±•å’Œç®¡ç†ã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/front/js/22.html" class="prev">
        å¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´ï¼Ÿâ­ï¸
      </a></span> <span class="next"><a href="/front/js/24.html">
        javascriptè®¾è®¡æ¨¡å¼ä¹‹æ„é€ å‡½æ•°æ¨¡å¼ â­ï¸
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d830e949.js" defer></script><script src="/assets/js/2.467a020c.js" defer></script><script src="/assets/js/29.c37f3490.js" defer></script>
  </body>
</html>
