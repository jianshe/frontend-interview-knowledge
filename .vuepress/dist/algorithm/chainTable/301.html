<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>链表典型应用场景（一） | 大前端宝典</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" content="每天至少一个问题，有关前端，后端，graphql，devops，微服务以及软技能，促进个人职业成长，敲开大厂之门。">
    <link rel="preload" href="/assets/css/0.styles.49f7e903.css" as="style"><link rel="preload" href="/assets/js/app.c87e7186.js" as="script"><link rel="preload" href="/assets/js/2.6407e78a.js" as="script"><link rel="preload" href="/assets/js/9.ef1b7d48.js" as="script"><link rel="prefetch" href="/assets/js/10.982fca9e.js"><link rel="prefetch" href="/assets/js/11.07f84ee1.js"><link rel="prefetch" href="/assets/js/12.4e18d93c.js"><link rel="prefetch" href="/assets/js/13.ded0ca0e.js"><link rel="prefetch" href="/assets/js/14.487a1dd2.js"><link rel="prefetch" href="/assets/js/15.30bf2e66.js"><link rel="prefetch" href="/assets/js/16.7439c435.js"><link rel="prefetch" href="/assets/js/17.56b6d4b0.js"><link rel="prefetch" href="/assets/js/18.00ed7d03.js"><link rel="prefetch" href="/assets/js/19.6fc08eec.js"><link rel="prefetch" href="/assets/js/20.704c08db.js"><link rel="prefetch" href="/assets/js/21.48cb369e.js"><link rel="prefetch" href="/assets/js/22.8cfb2da6.js"><link rel="prefetch" href="/assets/js/23.275669eb.js"><link rel="prefetch" href="/assets/js/24.21627203.js"><link rel="prefetch" href="/assets/js/25.203be2c4.js"><link rel="prefetch" href="/assets/js/26.55132a51.js"><link rel="prefetch" href="/assets/js/27.0ef78763.js"><link rel="prefetch" href="/assets/js/28.cfe6f4f3.js"><link rel="prefetch" href="/assets/js/29.b8ddabc6.js"><link rel="prefetch" href="/assets/js/3.40cb9b22.js"><link rel="prefetch" href="/assets/js/30.494c0e8c.js"><link rel="prefetch" href="/assets/js/31.95452049.js"><link rel="prefetch" href="/assets/js/32.6de408f7.js"><link rel="prefetch" href="/assets/js/33.5c244dcd.js"><link rel="prefetch" href="/assets/js/34.418e8142.js"><link rel="prefetch" href="/assets/js/35.24c4ec0b.js"><link rel="prefetch" href="/assets/js/36.ca27ce7e.js"><link rel="prefetch" href="/assets/js/37.5629dfc3.js"><link rel="prefetch" href="/assets/js/38.4638c5b8.js"><link rel="prefetch" href="/assets/js/39.75db8699.js"><link rel="prefetch" href="/assets/js/4.361172f6.js"><link rel="prefetch" href="/assets/js/40.bcfa172e.js"><link rel="prefetch" href="/assets/js/41.8a026760.js"><link rel="prefetch" href="/assets/js/42.89861117.js"><link rel="prefetch" href="/assets/js/43.9cac866c.js"><link rel="prefetch" href="/assets/js/44.11b193e6.js"><link rel="prefetch" href="/assets/js/45.41a98a3f.js"><link rel="prefetch" href="/assets/js/46.cf271a68.js"><link rel="prefetch" href="/assets/js/47.aa8c20dd.js"><link rel="prefetch" href="/assets/js/48.43d116ec.js"><link rel="prefetch" href="/assets/js/49.5a86722d.js"><link rel="prefetch" href="/assets/js/5.0f20fc43.js"><link rel="prefetch" href="/assets/js/50.d72adb15.js"><link rel="prefetch" href="/assets/js/51.e379dcc4.js"><link rel="prefetch" href="/assets/js/52.c0e51b19.js"><link rel="prefetch" href="/assets/js/53.0a57ce11.js"><link rel="prefetch" href="/assets/js/54.8548022f.js"><link rel="prefetch" href="/assets/js/55.f31fea3c.js"><link rel="prefetch" href="/assets/js/56.07bc49b1.js"><link rel="prefetch" href="/assets/js/57.7f6d38d1.js"><link rel="prefetch" href="/assets/js/58.911f665e.js"><link rel="prefetch" href="/assets/js/59.63e74f9f.js"><link rel="prefetch" href="/assets/js/6.ca2bfc44.js"><link rel="prefetch" href="/assets/js/7.42417338.js"><link rel="prefetch" href="/assets/js/8.ab05b157.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49f7e903.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大前端宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/algorithm/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>链表及经典问题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/algorithm/chainTable/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/algorithm/chainTable/300.html" class="sidebar-link">单向链表⭐️</a></li><li><a href="/algorithm/chainTable/301.html" aria-current="page" class="active sidebar-link">链表典型应用场景（一）⭐️</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="链表典型应用场景-一"><a href="#链表典型应用场景-一" class="header-anchor">#</a> 链表典型应用场景（一）</h1> <h4 id="场景一-环状链表-判断环状链表"><a href="#场景一-环状链表-判断环状链表" class="header-anchor">#</a> 场景一：环状链表=&gt;判断环状链表</h4> <h5 id="描述-给定一个链表-判断链表中是否有环。"><a href="#描述-给定一个链表-判断链表中是否有环。" class="header-anchor">#</a> 描述：给定一个链表，判断链表中是否有环。</h5> <p>​	内容： 如果链表中有某个节点，可以通过连续跟踪 next 指针再次到达，则链表中存在环。 为了表示给定链表中的环，我们使用整数 pos 来表示链表尾连接到链表中的位置（索引从 0 开始）。 如果 pos 是 -1，则在该链表中没有环。注意：pos 不作为参数进行传递，仅仅是为了标识链表的实际情况。</p> <p>​	如果链表中存在环，则返回 true 。 否则，返回 false 。</p> <h5 id="思路一-使用哈希表-额外的存储区-存储已经遍历过的节点"><a href="#思路一-使用哈希表-额外的存储区-存储已经遍历过的节点" class="header-anchor">#</a> 思路一 使用哈希表（额外的存储区）存储已经遍历过的节点</h5> <p>代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */</span>

<span class="token comment">/**
 * @param {ListNode} head
 * @return {boolean}
 */</span>
<span class="token comment">// 使用hash表来记录,目前复杂度为时间复杂度O(n),空间复杂度也是O(n)</span>
<span class="token keyword">var</span> <span class="token function-variable function">hasCycle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果cache发现存在的元素，代表有环</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span> 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      cache <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    head <span class="token operator">=</span> head<span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="思路二-双指针做法"><a href="#思路二-双指针做法" class="header-anchor">#</a> 思路二 双指针做法</h5> <p>​	使用快慢指针 快指针一次向前2个节点 慢指针一次向前1个节点</p> <ul><li>有环的链表中 快指针和慢指针最终一定会在环中相遇</li> <li>无环的链表中 快指针会率先访问到链表尾 从而终结检测过程</li></ul> <p>代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */</span>
<span class="token comment">/**
 * @param {ListNode} head
 * @return {boolean}
 */</span>
<span class="token comment">// 目前时间复杂度为O(n)，空间复杂度为O(1)</span>
<span class="token keyword">var</span> <span class="token function-variable function">hasCycle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> slow <span class="token operator">=</span> head
  <span class="token keyword">let</span> fast <span class="token operator">=</span> head
  <span class="token keyword">while</span><span class="token punctuation">(</span>fast <span class="token operator">&amp;&amp;</span> fast<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fast <span class="token operator">=</span> fast<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">// 快节点一次走两个节点</span>
    slow <span class="token operator">=</span> slow<span class="token punctuation">.</span>next <span class="token comment">// 慢节点一次走一个节点</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fast <span class="token operator">===</span> slow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="场景二-环状列表-返回链表开始入环的第一个节点。-如果链表无环-则返回-null。"><a href="#场景二-环状列表-返回链表开始入环的第一个节点。-如果链表无环-则返回-null。" class="header-anchor">#</a> 场景二：环状列表=&gt;返回链表开始入环的第一个节点。 如果链表无环，则返回 <code>null</code>。</h4> <h5 id="描述-给定一个链表-返回链表开始入环的第一个节点。-如果链表无环-则返回-null。"><a href="#描述-给定一个链表-返回链表开始入环的第一个节点。-如果链表无环-则返回-null。" class="header-anchor">#</a> 描述：给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 <code>null</code>。</h5> <h5 id="解题思路"><a href="#解题思路" class="header-anchor">#</a> 解题思路：</h5> <p>​	这类链表题目一般都是使用双指针法解决的，例如寻找距离尾部第K个节点、寻找环入口、寻找公共尾部入口等。</p> <p><strong>算法流程：</strong></p> <ol><li><p>首先还是通过快慢指针（其中快指针走两步，慢指针走一步），先判断当前链表是环形链表。</p> <p><img src="/assets/img/chain1.25b8d8cb.png" alt=""></p></li> <li><p>找到快慢指针的相遇位置。针对图一环形链表，快慢指针相遇位置在5节点处。</p> <p><img src="/assets/img/chain2.6f4eed82.png" alt=""></p></li> <li><p>快慢指针相遇后，把其中一个节点放到头部节点，另一节点放到相遇节点，两个节点一起往后走，相遇点就是环的起始位置。</p></li> <li><p>我们用数学思维来思考（其中p为慢指针，q为快指针，p一次走一步，q一次走两步）</p> <ul><li><p>首先假设链表的起始点距离环的起始点为a.</p></li> <li><p>假设p走到环的起始点时，即p走了距离a，则q距离head应该走了2a的距离。</p></li> <li><p>这个时候假设q已经在环里面了，假设环的长度为a+x，则环剩余的距离为x，现在p和q同时在环里面，p在环的起始位置，q在距离起始点a的距离，x轮后，q才能在环中追加p，p在环中走了x步。</p></li> <li><p>则p距离相遇点的距离为x，则相遇点距离环起始点的位置为a。</p> <p>如下图所示：</p> <p><img src="/assets/img/chain3.1f3547be.png" alt=""></p></li></ul></li></ol> <p>代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */</span>
<span class="token comment">/**
 * @param {ListNode} head
 * @return {ListNode}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">detectCycle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>head<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> slow <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">let</span> fast <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>fast <span class="token operator">&amp;&amp;</span> fast<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      slow <span class="token operator">=</span> slow<span class="token punctuation">.</span>next
      fast <span class="token operator">=</span> fast<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next
      <span class="token keyword">if</span> <span class="token punctuation">(</span>slow <span class="token operator">===</span> fast<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> head
        <span class="token keyword">while</span><span class="token punctuation">(</span>temp <span class="token operator">!==</span> fast<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next
          fast <span class="token operator">=</span> fast<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> fast
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="场景三-编写一个算法来判断一个数-n-是不是快乐数。"><a href="#场景三-编写一个算法来判断一个数-n-是不是快乐数。" class="header-anchor">#</a> 场景三：编写一个算法来判断一个数 <code>n</code> 是不是快乐数。</h4> <p>描述「快乐数」定义为：</p> <ul><li>对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。</li> <li>然后重复这个过程直到这个数变为 1，也可能是 <strong>无限循环</strong> 但始终变不到 1。</li> <li>如果 <strong>可以变为</strong>  1，那么这个数就是快乐数。</li></ul> <p>如果 <code>n</code> 是快乐数就返回 <code>true</code> ；不是，则返回 <code>false</code> 。</p> <p><strong>解题思路：</strong></p> <ol><li>我们举个例子：当输入值为7时，平方和就转换为：7 =&gt;49=&gt;97=&gt;130=&gt;10=&gt;1;</li></ol> <p><img src="/assets/img/202_fig1.94ff9819.png" alt=""></p> <ol start="2"><li><p>题目可以转化为：判断一个链表是否有环。如果遍历某个节点为1 ，说明没环，就是快乐数。如果遍历到重复的节点值，说明有环，就不是快乐数。</p></li> <li><p>再举个例子，当输入值为116时，平方和构成的链表就是：如下图所示：
<img src="/assets/img/202_fig2.ebe7a560.png" alt=""></p></li></ol> <p>代码实现如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @param {number} n
 * @return {boolean}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">isHappy</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pre <span class="token operator">=</span> n
  <span class="token keyword">var</span> cur <span class="token operator">=</span> <span class="token function">getNext</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!==</span> pre <span class="token operator">&amp;&amp;</span> cur <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pre <span class="token operator">=</span> <span class="token function">getNext</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span>
    cur <span class="token operator">=</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token function">getNext</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> cur <span class="token operator">===</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">getNext</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t <span class="token operator">+=</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span>
    n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> t
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/8/2021, 12:46:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/chainTable/300.html" class="prev">
        单向链表⭐️
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c87e7186.js" defer></script><script src="/assets/js/2.6407e78a.js" defer></script><script src="/assets/js/9.ef1b7d48.js" defer></script>
  </body>
</html>
