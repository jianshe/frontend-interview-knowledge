<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>队列典型应用场景（一） | 大前端宝典</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" content="每天至少一个问题，有关前端，后端，graphql，devops，微服务以及软技能，促进个人职业成长，敲开大厂之门。">
    <link rel="preload" href="/assets/css/0.styles.49f7e903.css" as="style"><link rel="preload" href="/assets/js/app.c1bf5fde.js" as="script"><link rel="preload" href="/assets/js/2.7488d10d.js" as="script"><link rel="preload" href="/assets/js/35.dc577e5b.js" as="script"><link rel="prefetch" href="/assets/js/10.9b1ae888.js"><link rel="prefetch" href="/assets/js/11.2c966c62.js"><link rel="prefetch" href="/assets/js/12.95f74a43.js"><link rel="prefetch" href="/assets/js/13.906cd031.js"><link rel="prefetch" href="/assets/js/14.9dc1ef4b.js"><link rel="prefetch" href="/assets/js/15.24bcfab5.js"><link rel="prefetch" href="/assets/js/16.bdad7409.js"><link rel="prefetch" href="/assets/js/17.7ce5c22c.js"><link rel="prefetch" href="/assets/js/18.da451f46.js"><link rel="prefetch" href="/assets/js/19.e6629bfb.js"><link rel="prefetch" href="/assets/js/20.04852890.js"><link rel="prefetch" href="/assets/js/21.9bb6591a.js"><link rel="prefetch" href="/assets/js/22.cd90adc6.js"><link rel="prefetch" href="/assets/js/23.6738eb1f.js"><link rel="prefetch" href="/assets/js/24.cda2f373.js"><link rel="prefetch" href="/assets/js/25.6e7d47f3.js"><link rel="prefetch" href="/assets/js/26.a9c48e58.js"><link rel="prefetch" href="/assets/js/27.fb2e0369.js"><link rel="prefetch" href="/assets/js/28.b6f189e7.js"><link rel="prefetch" href="/assets/js/29.9dfe95e0.js"><link rel="prefetch" href="/assets/js/3.f8d25688.js"><link rel="prefetch" href="/assets/js/30.3c50601c.js"><link rel="prefetch" href="/assets/js/31.f2cdf7ac.js"><link rel="prefetch" href="/assets/js/32.a9b8aefe.js"><link rel="prefetch" href="/assets/js/33.bf540fb2.js"><link rel="prefetch" href="/assets/js/34.b37db87b.js"><link rel="prefetch" href="/assets/js/36.c60dbdc0.js"><link rel="prefetch" href="/assets/js/37.fc77ef9d.js"><link rel="prefetch" href="/assets/js/38.babf5692.js"><link rel="prefetch" href="/assets/js/39.5f9e69c7.js"><link rel="prefetch" href="/assets/js/4.156b45c1.js"><link rel="prefetch" href="/assets/js/40.b840cb9b.js"><link rel="prefetch" href="/assets/js/41.bff794d9.js"><link rel="prefetch" href="/assets/js/42.e01a3ee2.js"><link rel="prefetch" href="/assets/js/43.e9d31883.js"><link rel="prefetch" href="/assets/js/44.c358e593.js"><link rel="prefetch" href="/assets/js/45.039cad1a.js"><link rel="prefetch" href="/assets/js/46.62688840.js"><link rel="prefetch" href="/assets/js/47.aeafee6b.js"><link rel="prefetch" href="/assets/js/48.6c1c246b.js"><link rel="prefetch" href="/assets/js/49.93f2c287.js"><link rel="prefetch" href="/assets/js/5.99161d88.js"><link rel="prefetch" href="/assets/js/50.57f61c41.js"><link rel="prefetch" href="/assets/js/51.9924c37d.js"><link rel="prefetch" href="/assets/js/52.64de880b.js"><link rel="prefetch" href="/assets/js/53.697920d1.js"><link rel="prefetch" href="/assets/js/54.8c773b8e.js"><link rel="prefetch" href="/assets/js/55.16d70398.js"><link rel="prefetch" href="/assets/js/56.ff0fe895.js"><link rel="prefetch" href="/assets/js/57.b0e299f4.js"><link rel="prefetch" href="/assets/js/58.3aaec493.js"><link rel="prefetch" href="/assets/js/59.acd8488a.js"><link rel="prefetch" href="/assets/js/6.071f4476.js"><link rel="prefetch" href="/assets/js/60.c2a12f1c.js"><link rel="prefetch" href="/assets/js/61.8492fee1.js"><link rel="prefetch" href="/assets/js/62.5f6c3b5c.js"><link rel="prefetch" href="/assets/js/63.ba4106e6.js"><link rel="prefetch" href="/assets/js/64.c7f28dc8.js"><link rel="prefetch" href="/assets/js/65.e3da3c29.js"><link rel="prefetch" href="/assets/js/66.840e8208.js"><link rel="prefetch" href="/assets/js/67.681b8ab9.js"><link rel="prefetch" href="/assets/js/68.ec816bb0.js"><link rel="prefetch" href="/assets/js/69.f2c21388.js"><link rel="prefetch" href="/assets/js/7.20f7d262.js"><link rel="prefetch" href="/assets/js/70.085a3b2d.js"><link rel="prefetch" href="/assets/js/71.aa9986f1.js"><link rel="prefetch" href="/assets/js/72.9088e97b.js"><link rel="prefetch" href="/assets/js/73.2f3b9706.js"><link rel="prefetch" href="/assets/js/74.1d1c8f97.js"><link rel="prefetch" href="/assets/js/8.6bf7b066.js"><link rel="prefetch" href="/assets/js/9.846883d6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49f7e903.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大前端宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/algorithm/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链表及经典问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>队列及经典问题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/algorithm/queue/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/algorithm/queue/305.html" class="sidebar-link">队列⭐️</a></li><li><a href="/algorithm/queue/306.html" aria-current="page" class="active sidebar-link">队列典型应用场景（一）⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/algorithm/queue/306.html#场景一-设计实现双端队列" class="sidebar-link">场景一：设计实现双端队列</a></li><li class="sidebar-sub-header"><a href="/algorithm/queue/306.html#场景二-设计前中后队列" class="sidebar-link">场景二：设计前中后队列</a></li></ul></li><li><a href="/algorithm/queue/307.html" class="sidebar-link">队列典型应用场景（二）⭐️</a></li><li><a href="/algorithm/queue/308.html" class="sidebar-link">队列典型应用场景（三）⭐️</a></li><li><a href="/algorithm/queue/309.html" class="sidebar-link">队列典型应用场景（四）⭐️</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>递归与栈及经典问题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="队列典型应用场景-一"><a href="#队列典型应用场景-一" class="header-anchor">#</a> 队列典型应用场景（一）</h1> <h2 id="场景一-设计实现双端队列"><a href="#场景一-设计实现双端队列" class="header-anchor">#</a> 场景一：设计实现双端队列</h2> <h3 id="描述-设计实现双端队列"><a href="#描述-设计实现双端队列" class="header-anchor">#</a> 描述：设计实现双端队列</h3> <p>你的实现需要支持以下操作：</p> <ul><li>MyCircularDeque(k)：构造函数,双端队列的大小为k。</li> <li>insertFront()：将一个元素添加到双端队列头部。 如果操作成功返回 true。</li> <li>insertLast()：将一个元素添加到双端队列尾部。如果操作成功返回 true。</li> <li>deleteFront()：从双端队列头部删除一个元素。 如果操作成功返回 true。</li> <li>deleteLast()：从双端队列尾部删除一个元素。如果操作成功返回 true。</li> <li>getFront()：从双端队列头部获得一个元素。如果双端队列为空，返回 -1。</li> <li>getRear()：获得双端队列的最后一个元素。 如果双端队列为空，返回 -1。</li> <li>isEmpty()：检查双端队列是否为空。</li> <li>isFull()：检查双端队列是否满了。</li></ul> <p><strong>代码编写如下：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 *
 * 设计实现双端队列。
 *
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">MyCircularQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 表示队首的索引</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 表示队尾的索引</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 队列包含的总元素数</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token comment">// 首先创建一个容量为k的数组，用来存储数据</span>
<span class="token punctuation">}</span>
<span class="token comment">// 将一个元素添加到双端队列头部，如果操作成功返回true。</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">insertFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token comment">// 将一个元素添加到双端队列尾部，如果操作成功返回true</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">insertLast</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">]</span> <span class="token operator">=</span> value
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">+=</span> <span class="token number">1</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token comment">// 从双端队列头部删除一个元素。如果操作成功，返回true</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">deleteFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token comment">// this.head += 1</span>
  <span class="token comment">// if (this.head === this.queue.length) this.head = 0</span>
  <span class="token comment">// 上面等价于</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token comment">// 从双端队列尾部删除一个元素，如果操作成功返回true。</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">deleteLast</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token comment">// this.tail -= 1</span>
  <span class="token comment">// if (this.tail === this.queue.length) this.tail = 0</span>

  <span class="token comment">// 上面等价于</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token comment">// 从双端队列头部获得一个元素。如果双端队列为空，返回-1。</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 获得双端队列的最后一个元素。如果双端队列为空，返回-1。</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getRear</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出双端队列元素</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">output</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    output <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">' '</span>
    j <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> j <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 检查双端队列是否满了</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">isFull</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>
<span class="token comment">// 检查双端队列是否为空</span>
<span class="token class-name">MyCircularQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">isEmpty</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">===</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> circularQueue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCircularQueue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 设置队列容量为3</span>
circularQueue<span class="token punctuation">.</span><span class="token function">insertLast</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
circularQueue<span class="token punctuation">.</span><span class="token function">insertLast</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
circularQueue<span class="token punctuation">.</span><span class="token function">insertFront</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
circularQueue<span class="token punctuation">.</span><span class="token function">insertFront</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>circularQueue<span class="token punctuation">.</span><span class="token function">getRear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>circularQueue<span class="token punctuation">.</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>circularQueue<span class="token punctuation">.</span><span class="token function">deleteLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
circularQueue<span class="token punctuation">.</span><span class="token function">insertFront</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circularQueue<span class="token punctuation">.</span><span class="token function">getFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circularQueue<span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 4 3 1</span>
</code></pre></div><h2 id="场景二-设计前中后队列"><a href="#场景二-设计前中后队列" class="header-anchor">#</a> 场景二：设计前中后队列</h2> <h3 id="描述-设计前中后队列"><a href="#描述-设计前中后队列" class="header-anchor">#</a> 描述：设计前中后队列</h3> <h4 id="算法思路"><a href="#算法思路" class="header-anchor">#</a> 算法思路：</h4> <p><strong>1.</strong> 这道题的整体思路是，对一个队列/数组，在第一位新增/删除一个新的元素,在最后一位 新增/删除一个元素，在最中间新增/删除一个元素。</p> <p><strong>2.</strong> 首先举例，我们有【1，2，3，4，5，7】这样的一个队列，我们整体的思路是，命名两个队列，进行增添操作后，最中间的位置在右队列里面（这个不强制，随自己的意愿），然后进行删除和新增操作 。</p> <p><strong>3.</strong> 第一个要求，在队列的<strong>最前面新增一位</strong>，举例，将元素6 加到最前面。用两个队列，将队列分为左右两个队列，左队列 <strong>leftArray 【1，2，3】</strong>，右队列 <strong>rightArray 【4，5，7】</strong>。左队列使用方法unshift,将元素6添加到队列的第一位 ，这个时候，左队列的长度 &gt; 右队列的长度，但是我们发现，<strong>左队列【6，1，2，3】</strong>， <strong>右队列【4，5，7】，<strong>中间元素3在左队列里面;接下来，左队列使用方法pop 删除最后一位，右队列使用方法unshift 将元素3添加到第一位；就是这样的效果</strong>左队列【6，1，2】</strong> 右队列**【3，4，5，7】** 这就是在队列的最前面添加元素的效果【6，1，2，3，4，5，7】。</p> <p><strong>4.</strong> 第二个要求，在队列的最中间新增一位，举例将 6 添加到队列的最中间。用两个队列，左 队列 <strong>leftArray 【1，2，3】</strong>，右队列<strong>rightArray 【4，5，7】</strong>,首 先，判断如果左队列的长度 = 右队列的长度,将左队列的最后一位删除，用到了pop;然后， 将元素3，添加到右队列的第一位，用到了unshift。然后就是这种效果：左队列【1，2】 右队列 【3，4，5，7】然后，将元素6 添加到左队列的最后一位，用到了方法push。就是这样的效果<strong>左队列【1，2，6】</strong> **右队列【3，4，5，7】**最后，在队列的正中间添加元素的效 果就是【1，2，6，3，4，5，7】。</p> <p><strong>5. ** 第三个要求，在队列的最后面新增一位，举例将 6 添加到队列的最后面。用两个队列，左 队列 leftArray 【1，2，3】，右队列</strong>rightArray 【4，5，7】**。首先，我们使用push 在右队列的最后一位新增元素6。这时候，效果是：<strong>左队列 【1，2，3】</strong> **右队列【4，5，7，6】**我们发现，最中间的数在右队列里面，并且左队列的长 度&lt; 右队列的长度，符合。这便是在队列最后面新增一位的效果：【1，2，3，4，5，7， 6】。</p> <p><strong>6.</strong> 第四个要求，将最前面 的元素从队列中删除并返回值，如果删除之前队列为空，那么返 回 -1；举例还是这个【1，2，3，4，5，7】队列，删掉元素1；用两个队列，左队列 <strong>leftArray 【1，2，3】</strong>，右队列 <strong>rightArray 【4，5，7】</strong>。首先，判断左队列是否为空，为空返回-1；否则，使用方法shift删除队列最前面的元素。这便是删除后的效果：【2，3，4，5，7】 **这里注意一下：**如果删除第一位后，左队列的长度 &gt; 右队列的长度，举例：左队列【9， 8，2，3】右队列【4，5，7】这时候，左队列使用pop删除最后一位,将删除的元素，新增 到右队列的第一位。</p> <p><strong>7.</strong> 第五个要求，将 正中间 的元素从队列中删除并返回值，如果删除之前队列为空，那么返 回 -1；举例还是这个【1，2，3，4，5，7】队列，删掉元素3；用两个队列，左队列 <strong>leftArray 【1，2，3】</strong> 右队列 <strong>rightArray 【4，5，7】</strong>。首先，判断左队列是否为空，为空返回-1；否则，在左队列的最后一位删除，用到了 pop，此时队列变成：<strong>左队列【1，2】</strong> 右队列【4，5，7】然后判断，左队列的长度 &lt; 右队 列的长度；如果符合就不用继续操作。如果不符合，举例：左队列【8，1，2，9】 右队列 【4，5，7】左队列的长度&gt; =右队列的长度,这时候我们还是将左队列的最后一位删除，将 它加到右队列的第一位。便是这种效果：左队列【8，1，2】 右队列 【9，4，5，7】 。</p> <p><strong>8.</strong> 第六个要求，将最后面 的元素从队列中删除并返回值，如果删除之前队列为空，那么返 回 -1；举例还是这个【1，2，3，4，5，7】队列，删掉元素7；用左右两个队列，<strong>左队列【1，2，3】，</strong></p> <p><strong>右队列【4，5，7】</strong> 首先，判断右队列是否为空，为空 返回-1；否则，我们使用方法pop来删除右队列的最后一位。此时，最后一位被删除，但是 需要注意的地方是，左队列的长度 &gt; 右队列的长度。我们要让，左队列的最后一位用方法 pop删除，添加到右队列的第一位。此时，便是删除队列的最后一位的效果【1，2，3，4， 5】 。</p> <h4 id="用数组代码实现如下"><a href="#用数组代码实现如下" class="header-anchor">#</a> 用数组代码实现如下：</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">FrontMiddleBackQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @param {number} val
 * @return {void}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @param {number} val
 * @return {void}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushMiddle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @param {number} val
 * @return {void}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushBack</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> needEle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> needEle
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popMiddle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popBack</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">let</span> needEle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rightArray<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>leftArray<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> needEle
<span class="token punctuation">}</span>
</code></pre></div><h4 id="方法二-用链表代码实现如下"><a href="#方法二-用链表代码实现如下" class="header-anchor">#</a> 方法二：用链表代码实现如下</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">Node</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val
  <span class="token keyword">this</span><span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token class-name">Node</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">insert_pre</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span>
  p<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pre
  <span class="token keyword">this</span><span class="token punctuation">.</span>pre <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pre<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pre <span class="token operator">=</span> p
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token class-name">Node</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">insert_next</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">this</span>
  p<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>next
  <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token punctuation">.</span>pre <span class="token operator">=</span> p<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> p
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token class-name">Node</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">erase</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pre<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pre <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pre<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">deQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push_back</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span><span class="token function">insert_pre</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push_front</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">insert_next</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop_back</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span>pre<span class="token punctuation">.</span>val
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span>pre<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop_front</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>next<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cnt <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">front</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>val
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span>pre<span class="token punctuation">.</span>val
<span class="token punctuation">}</span>
deQueue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">size</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cnt
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">FrontMiddleBackQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>q1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>q2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">maintain</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @param {number} val
 * @return {void}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushMiddle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @param {number} val
 * @return {void}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pushBack</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popFront</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popMiddle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @return {number}
 */</span>
<span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">popBack</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q2<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/30/2021, 12:11:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/queue/305.html" class="prev">
        队列⭐️
      </a></span> <span class="next"><a href="/algorithm/queue/307.html">
        队列典型应用场景（二）⭐️
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c1bf5fde.js" defer></script><script src="/assets/js/2.7488d10d.js" defer></script><script src="/assets/js/35.dc577e5b.js" defer></script>
  </body>
</html>
