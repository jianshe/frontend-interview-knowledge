<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>递归与栈典型应用场景（四） | 大前端宝典</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" content="每天至少一个问题，有关前端，后端，graphql，devops，微服务以及软技能，促进个人职业成长，敲开大厂之门。">
    <link rel="preload" href="/assets/css/0.styles.49f7e903.css" as="style"><link rel="preload" href="/assets/js/app.5dadf19b.js" as="script"><link rel="preload" href="/assets/js/2.415acd4c.js" as="script"><link rel="preload" href="/assets/js/37.ac403022.js" as="script"><link rel="prefetch" href="/assets/js/10.2e34a63c.js"><link rel="prefetch" href="/assets/js/11.fb902c63.js"><link rel="prefetch" href="/assets/js/12.a831ac4a.js"><link rel="prefetch" href="/assets/js/13.2cfee5e9.js"><link rel="prefetch" href="/assets/js/14.0d91a4e5.js"><link rel="prefetch" href="/assets/js/15.d17e0fef.js"><link rel="prefetch" href="/assets/js/16.ca527a80.js"><link rel="prefetch" href="/assets/js/17.b419f6be.js"><link rel="prefetch" href="/assets/js/18.8ba5d8ed.js"><link rel="prefetch" href="/assets/js/19.8b0fc2f1.js"><link rel="prefetch" href="/assets/js/20.6c9e742e.js"><link rel="prefetch" href="/assets/js/21.f2d2c615.js"><link rel="prefetch" href="/assets/js/22.2a5112a4.js"><link rel="prefetch" href="/assets/js/23.165acec7.js"><link rel="prefetch" href="/assets/js/24.a2f506d6.js"><link rel="prefetch" href="/assets/js/25.86526166.js"><link rel="prefetch" href="/assets/js/26.28deb2d1.js"><link rel="prefetch" href="/assets/js/27.d6a6632f.js"><link rel="prefetch" href="/assets/js/28.4c342e43.js"><link rel="prefetch" href="/assets/js/29.70e03c16.js"><link rel="prefetch" href="/assets/js/3.fba1148e.js"><link rel="prefetch" href="/assets/js/30.0263f46f.js"><link rel="prefetch" href="/assets/js/31.d18d1e1c.js"><link rel="prefetch" href="/assets/js/32.5056df15.js"><link rel="prefetch" href="/assets/js/33.0f58b426.js"><link rel="prefetch" href="/assets/js/34.c486d315.js"><link rel="prefetch" href="/assets/js/35.7105e909.js"><link rel="prefetch" href="/assets/js/36.f4a5e35b.js"><link rel="prefetch" href="/assets/js/38.be0db50c.js"><link rel="prefetch" href="/assets/js/39.d505f83d.js"><link rel="prefetch" href="/assets/js/4.d4e9065e.js"><link rel="prefetch" href="/assets/js/40.8a92e0f0.js"><link rel="prefetch" href="/assets/js/41.3dbbc0fa.js"><link rel="prefetch" href="/assets/js/42.ec2e1dfe.js"><link rel="prefetch" href="/assets/js/43.f26d5dcd.js"><link rel="prefetch" href="/assets/js/44.be7dbf95.js"><link rel="prefetch" href="/assets/js/45.a78b7bc4.js"><link rel="prefetch" href="/assets/js/46.606c22bb.js"><link rel="prefetch" href="/assets/js/47.d004afba.js"><link rel="prefetch" href="/assets/js/48.0385623f.js"><link rel="prefetch" href="/assets/js/49.f90a58b7.js"><link rel="prefetch" href="/assets/js/5.696d9907.js"><link rel="prefetch" href="/assets/js/50.f8243ea8.js"><link rel="prefetch" href="/assets/js/51.e08ddee3.js"><link rel="prefetch" href="/assets/js/52.485da762.js"><link rel="prefetch" href="/assets/js/53.e57fbb97.js"><link rel="prefetch" href="/assets/js/54.39d3d526.js"><link rel="prefetch" href="/assets/js/55.4c56b9c2.js"><link rel="prefetch" href="/assets/js/56.fa30af73.js"><link rel="prefetch" href="/assets/js/57.19af35e5.js"><link rel="prefetch" href="/assets/js/58.c2d46b37.js"><link rel="prefetch" href="/assets/js/59.b2829d44.js"><link rel="prefetch" href="/assets/js/6.d783aa4f.js"><link rel="prefetch" href="/assets/js/60.36542fb3.js"><link rel="prefetch" href="/assets/js/61.7fb99422.js"><link rel="prefetch" href="/assets/js/62.f83a40de.js"><link rel="prefetch" href="/assets/js/63.22ed9708.js"><link rel="prefetch" href="/assets/js/64.3110af2c.js"><link rel="prefetch" href="/assets/js/65.b21ffbd4.js"><link rel="prefetch" href="/assets/js/66.35e66a8e.js"><link rel="prefetch" href="/assets/js/67.01243213.js"><link rel="prefetch" href="/assets/js/68.c2e04da3.js"><link rel="prefetch" href="/assets/js/69.ebe9b89a.js"><link rel="prefetch" href="/assets/js/7.2d03e3d0.js"><link rel="prefetch" href="/assets/js/70.521e744e.js"><link rel="prefetch" href="/assets/js/71.fd8f247f.js"><link rel="prefetch" href="/assets/js/72.91ed7585.js"><link rel="prefetch" href="/assets/js/73.63671d5a.js"><link rel="prefetch" href="/assets/js/74.97c8981a.js"><link rel="prefetch" href="/assets/js/75.58c3a213.js"><link rel="prefetch" href="/assets/js/76.82c1dbba.js"><link rel="prefetch" href="/assets/js/77.ef02244f.js"><link rel="prefetch" href="/assets/js/78.1d4037dc.js"><link rel="prefetch" href="/assets/js/79.af8b88b5.js"><link rel="prefetch" href="/assets/js/8.34cc0d15.js"><link rel="prefetch" href="/assets/js/80.6b39067f.js"><link rel="prefetch" href="/assets/js/9.ec01259b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49f7e903.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大前端宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/house/" class="nav-link">
  house
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/backend/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link router-link-active">
  数据结构与算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/algorithm/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链表及经典问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>队列及经典问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>递归与栈及经典问题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>二叉树及经典问题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/algorithm/binaryTree/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/algorithm/binaryTree/315.html" class="sidebar-link">二叉树⭐️</a></li><li><a href="/algorithm/binaryTree/316.html" class="sidebar-link">二叉树与经典问题（一）⭐️</a></li><li><a href="/algorithm/binaryTree/317.html" class="sidebar-link">二叉树与经典问题（二）⭐️</a></li><li><a href="/algorithm/binaryTree/318.html" aria-current="page" class="active sidebar-link">二叉树与经典问题（三）⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/algorithm/binaryTree/318.html#场景一-函数的独占时间" class="sidebar-link">场景一：函数的独占时间</a></li><li class="sidebar-sub-header"><a href="/algorithm/binaryTree/318.html#场景二-表现良好的最长时间段" class="sidebar-link">场景二：表现良好的最长时间段</a></li></ul></li><li><a href="/algorithm/binaryTree/319.html" class="sidebar-link">二叉树与经典问题（四）⭐️</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="递归与栈典型应用场景-四"><a href="#递归与栈典型应用场景-四" class="header-anchor">#</a> 递归与栈典型应用场景（四）</h1> <h2 id="场景一-函数的独占时间"><a href="#场景一-函数的独占时间" class="header-anchor">#</a> 场景一：函数的独占时间</h2> <h4 id="描述"><a href="#描述" class="header-anchor">#</a> 描述：</h4> <ol><li>给出一个非抢占单线程CPU的 <strong>n</strong> 个函数运行日志，找到函数的独占时间。</li> <li>每个函数都有一个唯一的 Id，从 <strong>0</strong> 到 <strong>n-1</strong>，函数可能会递归调用或者被其他函数调用。</li> <li>日志是具有以下格式的字符串：function_id：start_or_end：timestamp。例如：&quot;0:start:0&quot; 表示函数 0 从 0 时刻开始运行。&quot;0🔚0&quot; 表示函数 0 在 0 时刻结束。</li> <li>函数的独占时间定义是在该方法中花费的时间，调用其他函数花费的时间不算该函数的独占时间。你需要根据函数的 Id 有序地返回每个函数的独占时间。</li></ol> <p><strong>示例 1:</strong></p> <div class="language-python extra-class"><pre class="language-python"><code>输入<span class="token punctuation">:</span>
n <span class="token operator">=</span> <span class="token number">2</span>
logs <span class="token operator">=</span> 
<span class="token punctuation">[</span><span class="token string">&quot;0:start:0&quot;</span><span class="token punctuation">,</span>
 <span class="token string">&quot;1:start:2&quot;</span><span class="token punctuation">,</span>
 <span class="token string">&quot;1:end:5&quot;</span><span class="token punctuation">,</span>
 <span class="token string">&quot;0:end:6&quot;</span><span class="token punctuation">]</span>
输出<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    
说明：
函数 <span class="token number">0</span> 在时刻 <span class="token number">0</span> 开始，在执行了  <span class="token number">2</span>个时间单位结束于时刻 <span class="token number">1</span>。
现在函数 <span class="token number">0</span> 调用函数 <span class="token number">1</span>，函数 <span class="token number">1</span> 在时刻 <span class="token number">2</span> 开始，执行 <span class="token number">4</span> 个时间单位后结束于时刻 <span class="token number">5</span>。
函数 <span class="token number">0</span> 再次在时刻 <span class="token number">6</span> 开始执行，并在时刻 <span class="token number">6</span> 结束运行，从而执行了 <span class="token number">1</span> 个时间单位。
所以函数 <span class="token number">0</span> 总共的执行了 <span class="token number">2</span> <span class="token operator">+</span><span class="token number">1</span> <span class="token operator">=</span><span class="token number">3</span> 个时间单位，函数 <span class="token number">1</span> 总共执行了 <span class="token number">4</span> 个时间单位。
</code></pre></div><p><strong>说明：</strong></p> <p>输入的日志会根据时间戳排序，而不是根据日志Id排序。
你的输出会根据函数Id排序，也就意味着你的输出数组中序号为 0 的元素相当于函数 0 的执行时间。
两个函数不会在同时开始或结束。
函数允许被递归调用，直到运行结束。
1 &lt;= n &lt;= 100</p> <h4 id="算法思路"><a href="#算法思路" class="header-anchor">#</a> 算法思路：</h4> <p>​	我们可以先找到最后执行的任务(C)，去计算下这个任务花了多长时间，然后再去计算上一</p> <p>层任务(B)所花费的总时间，然后要减去C任务所花费的时间，就得到了B任务自己花费的时</p> <p>间。然后将每个任务花费的时间加入到数组的指定位置上。</p> <p>​	我们可以利用栈的特性来完成这个操作 。</p> <h4 id="代码编写如下"><a href="#代码编写如下" class="header-anchor">#</a> 代码编写如下：</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @param {number} n
 * @param {string[]} logs
 * @return {number[]}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">exclusiveTime</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> logs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> go <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">function</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> dura <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">const</span> start <span class="token operator">=</span> logs<span class="token punctuation">[</span>go<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>go <span class="token operator">&lt;</span> logs<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> logs<span class="token punctuation">[</span>go <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      go<span class="token operator">++</span>
      dura <span class="token operator">=</span> dura <span class="token operator">+</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> end <span class="token operator">=</span> logs<span class="token punctuation">[</span><span class="token operator">++</span>go<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>end<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> start<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> dura
    res<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> sum
    <span class="token keyword">return</span> sum <span class="token operator">+</span> dura
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>go <span class="token operator">&lt;</span> logs<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    go<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><h2 id="场景二-表现良好的最长时间段"><a href="#场景二-表现良好的最长时间段" class="header-anchor">#</a> 场景二：表现良好的最长时间段</h2> <h4 id="描述-2"><a href="#描述-2" class="header-anchor">#</a> 描述：</h4> <ol><li>给你一份工作时间表 hours，上面记录着某一位员工每天的工作小时数。</li> <li>我们认为当员工一天中的工作小时数大于 8 小时的时候，那么这一天就是「劳累的一天」。</li> <li>所谓「表现良好的时间段」，意味在这段时间内，「劳累的天数」是严格 大于「不劳累的天数」。</li> <li>请你返回「表现良好时间段」的最大长度。</li></ol> <p><strong>示例 1：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>输入：hours <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
输出：<span class="token number">3</span>
解释：最长的表现良好时间段是 <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>。

<span class="token operator">**</span>提示：<span class="token operator">**</span>
<span class="token operator">**</span><span class="token number">1</span> <span class="token operator">&lt;=</span> hours<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token operator">**</span>
<span class="token operator">**</span><span class="token number">0</span> <span class="token operator">&lt;=</span> hours<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">16</span><span class="token operator">**</span>
</code></pre></div><h4 id="算法思路-2"><a href="#算法思路-2" class="header-anchor">#</a> 算法思路：</h4> <ul><li><p>我们将工作时长大于8小时的那一天记作为1，小于等于八小时的那一天记为-1。这样我们</p> <p>就得到了一组只有1和-1的数组。我们从第一天到第n天的和如果大于0，就证明从第一天到</p> <p>第n天这段区间是表现良好的。所以我们可以计算下从第一天开始到第n天的和，也就是我</p> <p>们的前缀和。</p></li> <li><p>我们要求的区间假设是第i天到第j天。要满足i&lt;j并且preSum[j]-preSum[i]大于零。所以我们</p> <p>第i天的前缀和要尽可能的小。当这个前缀和为负数的时候，相减的结果就可能大于0。所以</p> <p>我们在前缀和数组的首位添加一个0来寻找preSum[i]为负数的位置。同时我们要将0压入栈</p> <p>中挨个比较，找到前缀和的值小于栈顶元素的值时，就将该前缀和的下标压入栈中，直到将</p> <p>整个数组遍历完。我们的i就从这个前缀和的数组中取值。</p></li> <li><p>最后就遍历我们的整个hours数组，由于我们求的时j-i要尽可能的大，所以我们采用倒序遍</p> <p>历。当preSum[j]&gt;preSum[i]的时候，我们就让j-i，并记录下相减的差值，然后我们的栈弹</p> <p>出最顶的元素。进行下一次循环操作，直到栈中的i全部遍历完，我们就将最大值求了出</p> <p>来。</p></li></ul> <h4 id="代码编写如下-2"><a href="#代码编写如下-2" class="header-anchor">#</a> 代码编写如下：</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*
 * @lc app=leetcode.cn id=1124 lang=javascript
 *
 * [1124] 表现良好的最长时间段
 */</span>

<span class="token comment">// @lc code=start</span>
<span class="token comment">/**
 * @param {number[]} hours
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">longestWPI</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">hours</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> preSum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>hours<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hours<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hours<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">8</span><span class="token punctuation">)</span> preSum<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">else</span> preSum<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> preSum<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>preSum<span class="token punctuation">[</span>stack<span class="token punctuation">[</span>stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> preSum<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> max<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>preSum<span class="token punctuation">[</span>stack<span class="token punctuation">[</span>stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> max
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/binaryTree/317.html" class="prev">
        二叉树与经典问题（二）⭐️
      </a></span> <span class="next"><a href="/algorithm/binaryTree/319.html">
        二叉树与经典问题（四）⭐️
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5dadf19b.js" defer></script><script src="/assets/js/2.415acd4c.js" defer></script><script src="/assets/js/37.ac403022.js" defer></script>
  </body>
</html>
