(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{511:function(a,s,t){"use strict";t.r(s);var r=t(42),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"安装docker到服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker到服务器"}},[a._v("#")]),a._v(" 安装Docker到服务器")]),a._v(" "),t("blockquote",[t("p",[a._v("前端开发人员基本上都会写前端项目和node后端服务，但如何将代码部署到服务器，相信不是每一位开发人员都会的，下面，针对不同的操作系统，分别讲解，如何部署项目到远端服务器")])]),a._v(" "),t("p",[a._v("目前接触的服务器类型大约有两种：")]),a._v(" "),t("ul",[t("li",[a._v("Ubuntu 18.04 64位")]),a._v(" "),t("li",[a._v("CentOS 8.0 64位")])]),a._v(" "),t("p",[a._v("​\t"),t("strong",[a._v("不同的服务器，部署方式有所不同。")])]),a._v(" "),t("p",[a._v("针对Ubuntu 18.04 64位阿里云服务器先安装Docker")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("申请并连接远端服务器。")])]),a._v(" "),t("li",[t("p",[a._v("升级apt和添加相关软件包。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("# apt升级\nsudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),a._v(" update\n# 添加相关软件包\nsudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),a._v(" install \\\napt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("transport"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("https \\\nca"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("certificates \\\ncurl \\\nsoftware"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("properties"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("common\n")])])])]),a._v(" "),t("li",[t("p",[a._v("下载软件包的合法性，需要添加软件源的 GPG 密钥。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("curl "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("fsSL https"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("mirrors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ustc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("edu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cn"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("ubuntu"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gpg "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" sudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("key add "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("source.list 中添加 Docker 软件源。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo add"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("repository \\\n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \\\n$(lsb_release -cs) \\\nstable"')]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("安装 Docker CE。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),a._v(" update\nsudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),a._v(" install docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce\n")])])])]),a._v(" "),t("li",[t("p",[a._v("启动 Docker CE。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo systemctl enable docker\nsudo systemctl start docker\n")])])])]),a._v(" "),t("li",[t("p",[a._v("建立 docker 用户组(附加) 。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo groupadd docker\nsudo usermod "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("aG docker $"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("USER")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("Helloworld 测试")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("docker run hello"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("world\n")])])])]),a._v(" "),t("li",[t("p",[a._v("docker 拉取镜像时，可以设置镜像进行加速。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("# "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("daemon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("json\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://dockerhub.azk8s.cn"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://reg-mirror.qiniu.com"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 七牛云加速器")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\nsudo systemctl daemon"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("reload\nsudo systemctl restart docker\n")])])]),t("p",[t("strong",[a._v("针对CentOS 8.0 64位腾讯云服务器 Docker安装")])]),a._v(" "),t("p",[t("strong",[a._v("安装脚本自动安装")])]),a._v(" "),t("p",[a._v("安装命令如下：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n")])])]),t("p",[a._v("也可以使用国内 daocloud 一键安装命令：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("curl -sSL https://get.daocloud.io/docker | sh\n")])])]),t("p",[t("strong",[a._v("手动安装")])]),a._v(" "),t("p",[a._v("1.卸载旧版已安装docker如果有。")]),a._v(" "),t("p",[a._v("较旧的 Docker 版本称为 docker 或 docker-engine 。如果已安装这些程序，请卸载它们以及相关的依赖项。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo yum remove docker \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("client \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("latest \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("common \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("latest \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("latest"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("logrotate \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("logrotate \\\n                  docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("engine\n")])])]),t("p",[a._v("2.安装 Docker Engine-Community")]),a._v(" "),t("p",[a._v("在新主机上首次安装 Docker Engine-Community 之前，需要设置 Docker 仓库。之后，您可以从仓库安装和更新 Docker。")]),a._v(" "),t("p",[t("strong",[a._v("设置仓库")])]),a._v(" "),t("p",[a._v("安装所需的软件包。yum-utils 提供了 yum-config-manager ，并且 device mapper 存储驱动程序需要 device-mapper-persistent-data 和 lvm2。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo yum install "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("y yum"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("utils \\\n  device"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("mapper"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("persistent"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("data \\\n  lvm2\n")])])]),t("p",[a._v("使用以下命令来设置稳定的仓库。")]),a._v(" "),t("h5",{attrs:{id:"使用官方源地址-比较慢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用官方源地址-比较慢"}},[a._v("#")]),a._v(" 使用官方源地址（比较慢）")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo yum"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("manager \\\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("add"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("repo \\\n    https"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("download"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("centos"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("repo\n")])])]),t("p",[a._v("可以选择国内的一些源地址：")]),a._v(" "),t("h5",{attrs:{id:"阿里云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云"}},[a._v("#")]),a._v(" 阿里云")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo yum"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("manager \\\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("add"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("repo \\\n    http"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("mirrors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("aliyun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("centos"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("repo\n")])])]),t("h5",{attrs:{id:"清华大学源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清华大学源"}},[a._v("#")]),a._v(" 清华大学源")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("sudo yum"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("manager \\\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("add"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("repo \\\n    https"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("mirrors"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("tuna"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("tsinghua"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("edu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cn"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("centos"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("repo\n")])])]),t("h5",{attrs:{id:"安装-docker-engine-community"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-engine-community"}},[a._v("#")]),a._v(" 安装 Docker Engine-Community")]),a._v(" "),t("p",[a._v("安装最新版本的 Docker Engine-Community 和 containerd，或者转到下一步安装特定版本：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo yum install docker-ce docker-ce-cli containerd.io\n")])])]),t("p",[a._v("如果提示您接受 GPG 密钥，请选是。")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("有多个 Docker 仓库吗？")])]),a._v(" "),t("p",[a._v("如果启用了多个 Docker 仓库，则在未在 yum install 或 yum update 命令中指定版本的情况下，进行的安装或更新将始终安装最高版本，这可能不适合您的稳定性需求。")])]),a._v(" "),t("p",[a._v("Docker 安装完默认未启动。并且已经创建好 docker 用户组，但该用户组下没有用户。")]),a._v(" "),t("p",[t("strong",[a._v("要安装特定版本的 Docker Engine-Community，请在存储库中列出可用版本，然后选择并安装：")])]),a._v(" "),t("p",[a._v("1、列出并排序您存储库中可用的版本。此示例按版本号（从高到低）对结果进行排序。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("yum list docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("showduplicates "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" sort "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("r\ndocker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("x86_64  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18.09")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v(".1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.")]),a._v("el7                     docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("stable\ndocker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("x86_64  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18.09")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.")]),a._v("el7                     docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("stable\ndocker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("x86_64  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18.06")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.")]),a._v("el7                    docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("stable\ndocker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("x86_64  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18.06")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.")]),a._v("el7                    docker"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ce"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("stable\n")])])]),t("p",[a._v("2、通过其完整的软件包名称安装特定版本，该软件包名称是软件包名称（docker-ce）加上版本字符串（第二列），从第一个冒号（:）一直到第一个连字符，并用连字符（-）分隔。例如：docker-ce-18.09.1。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo yum install docker-ce-<VERSION_STRING> docker-ce-cli-<VERSION_STRING> containerd.io\n")])])]),t("p",[a._v("启动 Docker。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo systemctl start docker\n")])])]),t("p",[a._v("通过运行 hello-world 映像来验证是否正确安装了 Docker Engine-Community 。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo docker run hello-world\n")])])]),t("p",[a._v("docker 拉取镜像时，可以设置镜像进行加速。")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://r9xxm8z8.mirror.aliyuncs.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://registry.docker-cn.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"insecure-registries"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"172.16.213.38:5000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"172.16.213.39:5000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("这样就可以同时使用公有和私有镜像仓库")]),a._v(" "),t("p",[a._v("重启docker")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("systemctl restart docker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("service #重启Docker 即可\n")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);