(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{351:function(t,n,s){t.exports=s.p+"assets/img/181508340651970.6fa0be1b.png"},352:function(t,n,s){t.exports=s.p+"assets/img/181509180812624.924f5251.png"},364:function(t,n,s){"use strict";s.r(n);var a=s(42),p=Object(a.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"深入理解javascript原型和闭包-隐式原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#深入理解javascript原型和闭包-隐式原型"}},[t._v("#")]),t._v(" 深入理解javascript原型和闭包—隐式原型")]),t._v(" "),a("blockquote",[a("p",[t._v("每个函数function都有一个prototype，即原型。每个对象都有一个__proto__，可成为隐式原型。")])]),t._v(" "),a("p",[t._v("这个__proto__是一个隐藏的属性，javascript不希望开发者用到这个属性值，有的低版本浏览器甚至不支持这个属性值。所以一般编辑器中，都不会有__proto__的智能提示，但是你不用管它，直接写出来就是了。\n"),a("img",{attrs:{src:s(351),alt:"16f879b5b51541a1"}})]),t._v(" "),a("p",[t._v("上面截图看来，obj.__proto__和Object.prototype的属性一样！")]),t._v(" "),a("p",[t._v("obj这个对象本质上是被Object函数创建的，因此obj."),a("strong",[t._v("proto")]),t._v(" === Object.prototype。如下图所示：")]),t._v(" "),a("p",[a("img",{attrs:{src:s(352),alt:"16f879b5b51541a1"}})]),t._v(" "),a("p",[t._v("即，"),a("strong",[t._v("每个对象都有一个proto属性，指向创建该对象的函数的prototype。")])]),t._v(" "),a("p",[t._v("但是"),a("strong",[t._v("Object.prototype确定是一个特例--它的proto指向的是null，切记切记！")])]),t._v(" "),a("p",[t._v("函数也是一种对象，函数也有__proto__属性")]),t._v(" "),a("p",[t._v('函数也是被创建出来的，谁创建了函数呢？答案是Function，注意这个大写的"F"。')]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fn1  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"return x+ y;"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("以上代码中，第一种方式是比较传统的创建函数的方式，第二种是用new Function创建的。")]),t._v(" "),a("p",[a("strong",[t._v("不推荐使用第二种方式创建函数，这里只是向大家演示，函数是被Function创建的。")])]),t._v(" "),a("p",[t._v("根据上面的一句话--对象的__proto__指向的是创建它的函数的prototype，就会出现:Object."),a("strong",[t._v("proto")]),t._v(" === Function.prototype。如下图所示：")]),t._v(" "),a("p",[t._v("上图中，很明显的标出了：自定义函数Foo.__proto__指向Function.prototype，Object.__proto__指向Function.prototype，唉，怎么还有一个.......Function.__proto__指向Function.prototype?这不成了循环引用了？")]),t._v(" "),a("p",[t._v("对！是一个环形结构。")]),t._v(" "),a("p",[t._v("Function也是一个函数，函数是一种对象，也有__proto__属性。既然是函数，那么它一定是被Function创建的。所以Function是被自身创建的。所以它的__proto__指向了自身的prototype。")]),t._v(" "),a("p",[t._v("最后一个问题，Function.prototype指向的对象，它的__proto__是不是也指向Object.prototype？")]),t._v(" "),a("p",[t._v("答案是肯定的，因为Function.prototype指向的也是一个普通的被Object创建的对象，所以也遵循基本的规则。")])])}),[],!1,null,null,null);n.default=p.exports}}]);