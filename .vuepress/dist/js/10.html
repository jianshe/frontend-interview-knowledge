<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深入理解javascript原型和闭包—简述【执行上下文】上 | 大前端宝典</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" content="每天至少一个问题，有关前端，后端，graphql，devops，微服务以及软技能，促进个人职业成长，敲开大厂之门。">
    <link rel="preload" href="/assets/css/0.styles.49f7e903.css" as="style"><link rel="preload" href="/assets/js/app.f9a106cd.js" as="script"><link rel="preload" href="/assets/js/2.bfd3cfe6.js" as="script"><link rel="preload" href="/assets/js/9.e630acd7.js" as="script"><link rel="prefetch" href="/assets/js/10.ce486930.js"><link rel="prefetch" href="/assets/js/11.c85d48d8.js"><link rel="prefetch" href="/assets/js/12.8081eeb0.js"><link rel="prefetch" href="/assets/js/13.bc049bb5.js"><link rel="prefetch" href="/assets/js/14.9ac31f63.js"><link rel="prefetch" href="/assets/js/15.68e399b5.js"><link rel="prefetch" href="/assets/js/16.21409f4e.js"><link rel="prefetch" href="/assets/js/17.ee0f5c5a.js"><link rel="prefetch" href="/assets/js/18.20981cb9.js"><link rel="prefetch" href="/assets/js/19.0d4a3664.js"><link rel="prefetch" href="/assets/js/20.cd1a1d5f.js"><link rel="prefetch" href="/assets/js/21.0911c0c7.js"><link rel="prefetch" href="/assets/js/22.e46580cb.js"><link rel="prefetch" href="/assets/js/23.04cf0561.js"><link rel="prefetch" href="/assets/js/24.4d4d31ed.js"><link rel="prefetch" href="/assets/js/3.a48a4297.js"><link rel="prefetch" href="/assets/js/4.c8bf2f9d.js"><link rel="prefetch" href="/assets/js/5.6ddaa92a.js"><link rel="prefetch" href="/assets/js/6.f4d93dd0.js"><link rel="prefetch" href="/assets/js/7.2b07230d.js"><link rel="prefetch" href="/assets/js/8.e19c8416.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49f7e903.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大前端宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/css3/" class="nav-link">
  css3
</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">
  js
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/css3/" class="nav-link">
  css3
</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">
  js
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  linux
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="深入理解javascript原型和闭包-简述【执行上下文】上"><a href="#深入理解javascript原型和闭包-简述【执行上下文】上" class="header-anchor">#</a> 深入理解javascript原型和闭包—简述【执行上下文】上</h3> <p>什么是&quot;执行上下文&quot;（也叫做&quot;执行上下文环境&quot;）？暂且不下定义，先看一段代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: a is not defined.</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><p>第一句报错，a未定义，很正常。第二句、第三句输出都是undefined，说明浏览器在执行console.log(a)时，已经知道了a是undefined，但却不知道a是10（第三句中）。</p> <p>在一段js代码拿过来真正一句一句运行之前，浏览器已经做了一些&quot;准备工作&quot;，其中就包括对变量的声明，而不是赋值。变量赋值是在赋值语句执行的时候进行的。可用下图模拟：</p> <p><img src="data:image/png;base64,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" alt="16f879b5b51541a1"></p> <p>这是第一种情况。</p> <p>下面还有。先来个简单的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Window {parent: Window, opener: null, top: Window, length: 3, frames: Window, …}</span>
</code></pre></div><p>有js开发经验的朋友应该都知道，你无论在哪个位置获取this，都是有值的。至于this的取值情况，比较复杂，会专门拿出一篇文章来讲解。</p> <p>与第一种情况不同的是：第一种情况只是对变量进行声明（并没有赋值），而此种情况直接给this赋值。这也是”准备工作“情况要做的事情之一。</p> <p>下面还有...第三种情况。</p> <p>在第三种情况中，需要注意代码注释中的两个名词--”函数表达式“和&quot;函数声明&quot;。虽然两者都很常用，但是这两者在&quot;准备工作时&quot;，却是两种待遇。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function f1() {}</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 函数声明</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> <span class="token function-variable function">f2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 函数表达式</span>
</code></pre></div><p>看以上代码。”函数声明“时我们看到了第二种情况的影子，而”函数表达式“时我们看到 第一种情况的影子。</p> <p>没错。在&quot;准备工作&quot;中，对待函数表达式就像对待&quot;var a = 10&quot;这样的变量，只是声明。而对待函数声明时，却把函数整个赋值了。</p> <p>好了，&quot;准备工作&quot;介绍完毕。</p> <p>我们总结一下，在&quot;准备工作&quot;中完成了哪些工作：</p> <ul><li>变量、函数表达式--变量声明，默认赋值为undefined;</li> <li>this--赋值</li> <li>函数声明--赋值</li></ul> <p>这三种数据的准备情况我们称之为”执行上下文“或者&quot;执行上下文环境&quot;。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/14/2020, 9:33:25 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f9a106cd.js" defer></script><script src="/assets/js/2.bfd3cfe6.js" defer></script><script src="/assets/js/9.e630acd7.js" defer></script>
  </body>
</html>
